<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; font-src 'self' data:;">
    <title>설문조사서 등록 - SAEROM 용역관리시스템</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' fill='%23495EF4'/><text x='16' y='22' font-family='Arial' font-size='18' font-weight='bold' text-anchor='middle' fill='white'>S</text></svg>">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/add.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/lucide-icons.css">
    <link rel="stylesheet" href="css/survey-report-register.css">
    <style>
        /* GroundFit 헤더 구조 적용 */
        #header {
            position: fixed;
            top: 0;
            left: 0;
            width: 321px;
            padding: 188px 24px 24px;
            min-height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }
        
        #header h1 {
            position: absolute;
            top: 79px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        #header h1 img {
            vertical-align: top;
            width: 180px;
            height: auto;
        }
        
        #header .quick-nav {
            display: none;
        }
        
        #gnb {
            position: relative;
            z-index: 1000;
        }
        
        .container {
            margin-left: 321px;
            position: relative;
            width: calc(100% - 321px);
            min-height: 100vh;
            border-left: 1px solid #ccc;
        }
        
        /* 설문조사서 등록 페이지 전용 스타일 */
        .form-wrap {
            margin-top: 24px;
        }
        
        .form-section {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 32px;
            margin-bottom: 24px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #111;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #495EF4;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .section-header .section-title {
            margin-bottom: 0;
            border-bottom: none;
            padding-bottom: 0;
        }
        
        .question-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 20px;
            background-color: #F7F8FC;
            position: relative;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid #ddd;
        }
        
        .question-number {
            font-weight: 600;
            font-size: 18px;
            color: #495EF4;
        }
        
        .btn-remove-question {
            padding: 8px 16px;
            line-height: 20px;
            font-weight: 600;
            color: #fff;
            background-color: #D11515;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
        }
        
        .btn-remove-question:hover {
            background-color: #B01212;
        }
        
        .question-content {
            padding-left: 0;
        }
        
        .multiple-choice-options {
            margin-top: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 6px;
            border: 1px solid #ddd;
        }
        
        .multiple-choice-options .form-group label {
            font-weight: 600;
            color: #111;
            margin-bottom: 12px;
            display: block;
        }
        
        .options-container {
            margin-bottom: 16px;
        }
        
        .option-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            gap: 12px;
        }
        
        .option-item .input-02 {
            flex: 1;
        }
        
        .btn-remove-option {
            padding: 8px 12px;
            line-height: 20px;
            font-weight: 600;
            color: #fff;
            background-color: #666;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            min-width: 60px;
        }
        
        .btn-remove-option:hover {
            background-color: #555;
        }
        
        .btn-add-option {
            padding: 10px 20px;
            line-height: 20px;
            font-weight: 600;
            color: #fff;
            background-color: #495EF4;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
        }
        
        .btn-add-option:hover {
            background-color: #3A4CE8;
        }
        
        #add-question-btn {
            padding: 15px 24px;
            line-height: 20px;
            font-weight: 600;
            color: #fff;
            background-color: #495EF4;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
        }
        
        #add-question-btn:hover {
            background-color: #3A4CE8;
        }
        
        /* 기존 스타일과 일치하는 버튼 스타일 */
        .btn-save {
            padding: 15px 24px;
            line-height: 20px;
            font-weight: 600;
            color: #fff;
            background-color: #495EF4;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .btn-save:hover {
            background-color: #3A4CE8;
        }
        
        .btn-cancel {
            padding: 15px 24px;
            line-height: 20px;
            font-weight: 600;
            color: #666;
            border: 1px solid #bbb;
            border-radius: 4px;
            background-color: #fff;
            font-size: 16px;
            cursor: pointer;
        }
        
        .btn-cancel:hover {
            background-color: #f5f5f5;
        }
        
        .btn-close {
            padding: 15px 24px;
            line-height: 20px;
            font-weight: 600;
            color: #111;
            border: 1px solid #111;
            border-radius: 4px;
            background-color: #fff;
            font-size: 16px;
            cursor: pointer;
        }
        
        .btn-close:hover {
            background-color: #f5f5f5;
        }
        
        /* 폼 액션 버튼 그룹 */
        .form-actions {
            margin-top: 40px;
            padding-top: 24px;
            border-top: 1px solid #ddd;
        }
        
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 12px;
        }
        
        /* 파일 업로드 영역 */
        .file-upload-area {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .file-info {
            color: #666;
            font-size: 14px;
        }
        
        .form-help {
            color: #999;
            font-size: 13px;
            margin-top: 8px;
        }
        
        /* 1행 배치를 위한 스타일 */
        .form-row-inline {
            display: flex;
            gap: 20px;
            align-items: flex-end;
        }
        
        .form-group-inline {
            flex: 1;
            min-width: 0;
        }
        
        .form-group-inline label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #111;
        }
        
        .form-group-inline .select-01 {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            background-color: #fff;
            line-height: 1.4;
            vertical-align: middle;
        }
        
        .form-group-inline .select-01 option {
            padding: 8px 12px;
            line-height: 1.4;
        }
        
        /* 플레이스홀더 스타일 */
        .form-group-inline .select-01 option[value=""] {
            color: #999;
            font-style: normal;
        }
        
        .form-group-inline .input-02 {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            height: 46px;
            line-height: 1.4;
            vertical-align: middle;
        }
        
        /* 날짜 선택기 인풋박스 높이 맞춤 */
        .form-group-inline .datepicker-01 input {
            height: 46px;
            line-height: 1.4;
            vertical-align: middle;
        }
        
        /* 날짜 필드 가로 사이즈 조정 */
        .form-group-date {
            flex: 1.5 !important;
            min-width: 180px;
        }
        
        .form-group-date .datepicker-01 {
            width: 100%;
        }
        
        /* 비활성화된 필드 스타일 */
        .form-row-disabled {
            margin-top: 15px;
            opacity: 0.7;
        }
        
        .input-disabled {
            background-color: #f5f5f5 !important;
            color: #999 !important;
            border-color: #e0e0e0 !important;
            cursor: not-allowed !important;
        }
        
        .form-row-disabled label {
            color: #999 !important;
        }
        
        /* 전체 너비 폼 그룹 스타일 */
        .form-row-full {
            margin-bottom: 20px;
        }
        
        .form-group-full {
            width: 100%;
        }
        
        .form-group-full label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #111;
        }
        
        /* textarea 라벨 추가 여백 */
        .form-group-full:has(.textarea-01) label,
        .form-group-full label[for="survey-description"] {
            margin-bottom: 12px;
        }
        
        .form-group-full .input-02 {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            height: 46px;
            line-height: 1.4;
            vertical-align: middle;
        }
        
        /* textarea 스타일 */
        .form-group-full .textarea-01 {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            line-height: 1.4;
            resize: vertical;
            font-family: inherit;
            margin-bottom: 30px;
            min-height: 46px;
        }
        
        .form-group-full .textarea-01:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }
        
        /* 설문조사서 설명 섹션 상단 여백 */
        .form-row-full:has(.textarea-01) {
            margin-top: 20px;
        }
        
        /* 브라우저 호환성을 위한 대체 방법 */
        .form-group-full .textarea-01 {
            margin-top: 20px;
        }
        
        /* 문항 관리 섹션 상단 여백 */
        .form-section:has(.section-header) {
            margin-top: 0;
        }
        
        /* 헤더 타이틀 영역 스타일 */
        .contents-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .title-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .btn-close-header {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            padding: 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #fff;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-close-header:hover {
            background-color: #f5f5f5;
            border-color: #999;
        }
        
        .btn-close-header .icon-close {
            width: 20px;
            height: 20px;
            stroke-width: 2;
            color: #666;
        }
        
        .btn-close-header:hover .icon-close {
            color: #333;
        }
        
    </style>
    
    <!-- Lucide Icons -->
    <script src="../../../assets/js/lucide.js"></script>
    
    <!-- JavaScript -->
    <script src="../../../js/jquery-1.11.3.js"></script>
    <script src="../../../html_cms/js/jquery-ui.min.js"></script>
    <script src="../../../js/slick.js"></script>
    <script src="../../../js/common.js"></script>
    <script src="../../../assets/js/lucide-utils.js"></script>
    <script>
        // SAEROM Lucide 아이콘 초기화
        document.addEventListener('DOMContentLoaded', function() {
            // Lucide 아이콘 초기화
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
                console.log('Lucide Icons initialized successfully');
            } else {
                console.warn('Lucide library not found');
            }
            
            // X 아이콘 버튼 강제 초기화
            setTimeout(function() {
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
            }, 100);
            
            
            // Datepicker 초기화
            if (typeof $.fn.datepicker !== 'undefined') {
                $('.input-datepicker').datepicker({
                    dateFormat: 'yy.mm.dd',
                    changeMonth: true,
                    changeYear: true,
                    yearRange: '2020:2030'
                });
            }
            
            // 파일 업로드 기능
            $('.btn-file-upload').on('click', function(e) {
                e.preventDefault();
                $('#file-upload').click();
            });
            
            $('#file-upload').on('change', function() {
                var file = this.files[0];
                if (file) {
                    $('.file-info').text('선택된 파일: ' + file.name);
                } else {
                    $('.file-info').text('선택된 파일 없음');
                }
            });
            
            // URL 파라미터에서 데이터 가져와서 자동 입력
            function loadDataFromURL() {
                const urlParams = new URLSearchParams(window.location.search);
                
                // URL 파라미터에서 데이터 추출
                const department = urlParams.get('department') || '';
                const workplace = urlParams.get('workplace') || '';
                const manager = urlParams.get('manager') || '';
                const year = urlParams.get('year') || '2025';
                const month = urlParams.get('month') || '';
                
                // 자동으로 입력 필드에 값 설정
                if (department) $('#department').val(department);
                if (workplace) $('#workplace').val(workplace);
                if (manager) $('#manager').val(manager);
                if (year) $('#year').val(year + '년');
                if (month) $('#month').val(month + '월');
                
                console.log('자동 입력된 데이터:', {
                    department, workplace, manager, year, month
                });
            }
            
            // 페이지 로드 시 URL 파라미터에서 데이터 로드
            loadDataFromURL();
            
            // 본부 선택 시 사업장 옵션 업데이트
            $('#department').on('change', function() {
                const selectedDept = $(this).val();
                updateWorkplaceOptions(selectedDept);
                $('#manager').val(''); // 소장명 초기화
            });
            
            // 사업장 선택 시 소장명 옵션 업데이트
            $('#workplace').on('change', function() {
                const selectedWorkplace = $(this).val();
                updateManagerOptions(selectedWorkplace);
            });
            
            // 본부별 사업장 옵션 업데이트 함수
            function updateWorkplaceOptions(department) {
                const workplaceSelect = $('#workplace');
                workplaceSelect.empty();
                workplaceSelect.append('<option value="" disabled selected>사업장을 선택하세요</option>');
                
                const workplaceData = {
                    'ACE 1본부': ['경기광주역금호리첸시아', '쥬네브쎈월드'],
                    'ACE 2본부': ['서울강남아이파크'],
                    'ACE 3본부': ['대구수성구대구은행'],
                    'HQ 본부': ['부산해운대마린시티']
                };
                
                if (department && workplaceData[department]) {
                    workplaceData[department].forEach(function(workplace) {
                        workplaceSelect.append(`<option value="${workplace}">${workplace}</option>`);
                    });
                }
            }
            
            // 사업장별 소장명 옵션 업데이트 함수
            function updateManagerOptions(workplace) {
                const managerSelect = $('#manager');
                managerSelect.empty();
                managerSelect.append('<option value="" disabled selected>소장명을 선택하세요</option>');
                
                const managerData = {
                    '경기광주역금호리첸시아': '김현장',
                    '쥬네브쎈월드': '이소장',
                    '서울강남아이파크': '박소장',
                    '부산해운대마린시티': '최소장',
                    '대구수성구대구은행': '정소장'
                };
                
                if (workplace && managerData[workplace]) {
                    managerSelect.append(`<option value="${managerData[workplace]}">${managerData[workplace]}</option>`);
                }
            }
            
            // X 아이콘 버튼 클릭 이벤트
            $('.btn-close-header').on('click', function(e) {
                e.preventDefault();
                if (confirm('작성 중인 내용이 사라집니다. 정말 닫으시겠습니까?')) {
                    window.history.back();
                }
            });
            
            // 폼 하단 닫기 버튼 클릭 이벤트
            $('.btn-close').on('click', function(e) {
                e.preventDefault();
                if (confirm('작성 중인 내용이 사라집니다. 정말 닫으시겠습니까?')) {
                    window.history.back();
                }
            });
            
            // 취소 버튼 클릭 이벤트
            $('.btn-cancel').on('click', function(e) {
                e.preventDefault();
                if (confirm('작성 중인 내용이 사라집니다. 정말 취소하시겠습니까?')) {
                    window.history.back();
                }
            });
            
            // 저장 버튼 클릭 이벤트
            $('.btn-save').on('click', function(e) {
                e.preventDefault();
                
                // 필수 입력 항목 검증
                var requiredFields = [
                    { id: 'department', name: '본부' },
                    { id: 'workplace', name: '사업장' },
                    { id: 'manager', name: '소장명' },
                    { id: 'survey-type', name: '설문구분' },
                    { id: 'target-type', name: '설문대상' },
                    { id: 'survey-title', name: '설문조사서 제목' },
                    { id: 'survey-date', name: '설문 시작일자' },
                    { id: 'survey-end-date', name: '설문 종료일자' },
                    { id: 'survey-method', name: '설문 방법' },
                    { id: 'survey-description', name: '설문조사서 설명' }
                ];
                
                var isValid = true;
                var missingFields = [];
                
                requiredFields.forEach(function(field) {
                    var value = $('#' + field.id).val();
                    if (!value || value.trim() === '') {
                        isValid = false;
                        missingFields.push(field.name);
                    }
                });
                
                // 문항 검증
                var questionItems = $('.question-item');
                if (questionItems.length === 0) {
                    alert('최소 1개 이상의 문항을 추가해주세요.');
                    return;
                }
                
                // 각 문항 검증
                var invalidQuestions = [];
                questionItems.each(function(index) {
                    var questionItem = $(this);
                    var questionText = questionItem.find('.question-text').val().trim();
                    var questionType = questionItem.find('.question-type').val();
                    
                    if (!questionText) {
                        invalidQuestions.push('문항 ' + (index + 1) + ': 문항 내용');
                    }
                    if (!questionType) {
                        invalidQuestions.push('문항 ' + (index + 1) + ': 문항 유형');
                    }
                    
                    // 객관식인 경우 선택지 검증
                    if (questionType === 'multiple-choice') {
                        var options = questionItem.find('.option-text');
                        if (options.length < 2) {
                            invalidQuestions.push('문항 ' + (index + 1) + ': 객관식 선택지는 최소 2개 이상 필요');
                        } else {
                            options.each(function() {
                                if (!$(this).val().trim()) {
                                    invalidQuestions.push('문항 ' + (index + 1) + ': 빈 선택지가 있습니다');
                                    return false;
                                }
                            });
                        }
                    }
                });
                
                if (invalidQuestions.length > 0) {
                    alert('다음 문항을 확인해주세요:\n' + invalidQuestions.join('\n'));
                    return;
                }
                
                if (!isValid) {
                    alert('다음 필수 입력 항목을 확인해주세요:\n' + missingFields.join(', '));
                    return;
                }
                
                // 설문조사서 등록 처리
                console.log('설문조사서 등록 처리');
                alert('설문조사서가 등록되었습니다.');
                
                // 등록 후 목록 페이지로 이동
                window.location.href = 'index.html';
            });
            
            // 설문 문항 관리 기능
            let questionCount = 0;
            
            // 문항 추가 버튼 클릭 이벤트
            $('#add-question-btn').on('click', function() {
                addQuestion();
            });
            
            // 문항 추가 함수
            function addQuestion() {
                questionCount++;
                const questionTemplate = $('#question-template').html();
                const newQuestion = $(questionTemplate);
                
                // 문항 번호 업데이트
                newQuestion.find('.question-number').text('문항 ' + questionCount);
                
                // 문항 유형 변경 이벤트
                newQuestion.find('.question-type').on('change', function() {
                    const type = $(this).val();
                    const optionsContainer = newQuestion.find('.multiple-choice-options');
                    const optionsContainerDiv = newQuestion.find('.options-container');
                    
                    console.log('문항 유형 변경:', type);
                    
                    if (type === 'multiple-choice') {
                        optionsContainer.show();
                        // 기존 선택지 초기화
                        optionsContainerDiv.empty();
                        // 기본 선택지 2개 추가
                        addOption(optionsContainerDiv);
                        addOption(optionsContainerDiv);
                    } else {
                        optionsContainer.hide();
                        // 주관식일 때는 선택지 초기화
                        optionsContainerDiv.empty();
                    }
                });
                
                // 문항 삭제 버튼 이벤트
                newQuestion.find('.btn-remove-question').on('click', function() {
                    newQuestion.remove();
                    updateQuestionNumbers();
                });
                
                // 선택지 추가 버튼 이벤트
                newQuestion.find('.btn-add-option').on('click', function() {
                    addOption(newQuestion.find('.options-container'));
                });
                
                $('#questions-container').append(newQuestion);
            }
            
            // 선택지 추가 함수
            function addOption(container) {
                const optionTemplate = $('#option-template').html();
                const newOption = $(optionTemplate);
                
                // 선택지 삭제 버튼 이벤트
                newOption.find('.btn-remove-option').on('click', function() {
                    newOption.remove();
                });
                
                container.append(newOption);
            }
            
            // 문항 번호 업데이트 함수
            function updateQuestionNumbers() {
                $('#questions-container .question-item').each(function(index) {
                    $(this).find('.question-number').text('문항 ' + (index + 1));
                });
            }
            
            console.log('설문조사서 등록 페이지 로드 완료');
        });
        
        // jQuery ready
        $(document).ready(function() {
            // X 아이콘 버튼 클릭 이벤트 (jQuery 버전)
            $('.btn-close-header').on('click', function(e) {
                e.preventDefault();
                if (confirm('작성 중인 내용이 사라집니다. 정말 닫으시겠습니까?')) {
                    window.history.back();
                }
            });
            
            // 폼 하단 닫기 버튼 클릭 이벤트 (jQuery 버전)
            $('.btn-close').on('click', function(e) {
                e.preventDefault();
                if (confirm('작성 중인 내용이 사라집니다. 정말 닫으시겠습니까?')) {
                    window.history.back();
                }
            });
        });
        
        // GNB 토글 기능 초기화
        function initGNBToggle() {
            // 1레벨 메뉴 토글
            const toggleButtons = document.querySelectorAll('.gnb-depth1 .btn-toggle');
            toggleButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const submenu = this.nextElementSibling;
                    const isActive = this.classList.contains('active');
                    
                    // 다른 활성 메뉴들 닫기
                    document.querySelectorAll('.gnb-depth1 .btn-toggle.active').forEach(activeBtn => {
                        if (activeBtn !== this) {
                            activeBtn.classList.remove('active');
                            const activeSubmenu = activeBtn.nextElementSibling;
                            if (activeSubmenu) {
                                activeSubmenu.style.display = 'none';
                            }
                        }
                    });
                    
                    // 현재 메뉴 토글
                    if (isActive) {
                        this.classList.remove('active');
                        if (submenu) {
                            submenu.style.display = 'none';
                        }
                    } else {
                        this.classList.add('active');
                        if (submenu) {
                            submenu.style.display = 'block';
                        }
                    }
                });
            });
            
            // 2레벨 메뉴 토글 (3레벨 서브메뉴용)
            const toggleButtons2 = document.querySelectorAll('.gnb-depth2 .btn-toggle');
            toggleButtons2.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const submenu = this.nextElementSibling;
                    const isActive = this.classList.contains('active');
                    
                    // 같은 2레벨 내의 다른 활성 메뉴들 닫기
                    const parentLi = this.closest('li');
                    parentLi.querySelectorAll('.gnb-depth2 .btn-toggle.active').forEach(activeBtn => {
                        if (activeBtn !== this) {
                            activeBtn.classList.remove('active');
                            const activeSubmenu = activeBtn.nextElementSibling;
                            if (activeSubmenu) {
                                activeSubmenu.style.display = 'none';
                            }
                        }
                    });
                    
                    // 현재 메뉴 토글
                    if (isActive) {
                        this.classList.remove('active');
                        if (submenu) {
                            submenu.style.display = 'none';
                        }
                    } else {
                        this.classList.add('active');
                        if (submenu) {
                            submenu.style.display = 'block';
                        }
                    }
                });
            });
        }
        
        // GNB 토글 기능 초기화
        initGNBToggle();
    </script>
</head>
<body>
    <!-- .skip-nav -->
    <div class="skip-nav">
        <a href="#gnb" class="btn">본문 바로가기</a>
        <a href="#contents" class="btn">주메뉴 바로가기</a>
    </div>
    <div class="wrap clearfix">
        <!-- #header start // -->
        <div id="header">
            <h1><a href="../../index.html"><img src="../../../assets/images/logo.png" alt="SAEROM 용역관리시스템"></a></h1>
            <ul class="quick-nav">
                <li><a href="#" class="btn menu"><i data-lucide="menu" class="quick-nav-icon"></i>메뉴</a></li>
                <li><a href="#" class="btn approval"><i data-lucide="check-square" class="quick-nav-icon"></i>전자결제</a></li>
                <li><a href="../../../index.html" class="btn home"><i data-lucide="home" class="quick-nav-icon"></i>Main</a></li>
                <li><a href="#" class="btn workplace"><i data-lucide="building-2" class="quick-nav-icon"></i>사업장관리</a></li>
                <li><a href="#" class="btn hr"><i data-lucide="users" class="quick-nav-icon"></i>직원관리</a></li>
                <li><a href="#" class="btn system"><i data-lucide="settings" class="quick-nav-icon"></i>시스템</a></li>
            </ul>
            <div id="gnb">
                <h2 class="blind">주메뉴</h2>
                <a href="#" class="btn btn-gnb-close"><i data-lucide="x" class="icon-close"></i>닫기</a>
                <!-- GNB는 JavaScript로 동적 로드됩니다 -->
            </div>
        </div>
        <!-- // #header end -->
        <div class="container">
            <div class="contents-top clearfix">
                <p class="title">Management System</p>
                <div class="snb">
                    <ul class="snb-depth1 clearfix">
                        <li><a href="#" class="btn btn-toggle mypage"><span class="blind">관리자 관련메뉴 열고 닫기.</span>Admin</a>
                            <ul class="snb-depth2">
                                <li><a href="#" class="btn">관리자 정보</a></li>
                                <li><a href="#" class="btn">로그인 관리</a></li>
                                <li><a href="#" class="btn">로그아웃</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div id="contents" class="contents-body">
                <h2 class="blind">본문</h2>
                <div class="contents-title">
                    <h3 class="title-page">설문조사서 등록</h3>
                    <div class="title-actions">
                        <button type="button" class="btn btn-close-header" title="닫기">
                            <i data-lucide="x" class="icon-close"></i>
                        </button>
                        <a href="index.html" class="btn btn-back">뒤로가기</a>
                    </div>
                </div>

                <!-- 설문조사서 등록 폼 -->
                <div class="form-wrap">
                    <form id="survey-form">
                        <!-- 사업장/소장명 섹션 -->
                        <div class="form-section">
                            <h4 class="section-title">사업장/소장명</h4>
                            <div class="form-row-inline">
                                <div class="form-group-inline">
                                    <label for="department">본부</label>
                                    <select id="department" name="department" class="select-01" required>
                                        <option value="" disabled selected>본부를 선택하세요</option>
                                        <option value="ACE 1본부">ACE 1본부</option>
                                        <option value="ACE 2본부">ACE 2본부</option>
                                        <option value="ACE 3본부">ACE 3본부</option>
                                        <option value="HQ 본부">HQ 본부</option>
                                    </select>
                                </div>
                                <div class="form-group-inline">
                                    <label for="workplace">사업장</label>
                                    <select id="workplace" name="workplace" class="select-01" required>
                                        <option value="" disabled selected>사업장을 선택하세요</option>
                                        <option value="경기광주역금호리첸시아">경기광주역금호리첸시아</option>
                                        <option value="쥬네브쎈월드">쥬네브쎈월드</option>
                                        <option value="서울강남아이파크">서울강남아이파크</option>
                                        <option value="부산해운대마린시티">부산해운대마린시티</option>
                                        <option value="대구수성구대구은행">대구수성구대구은행</option>
                                    </select>
                                </div>
                                <div class="form-group-inline">
                                    <label for="manager">소장명</label>
                                    <select id="manager" name="manager" class="select-01" required>
                                        <option value="" disabled selected>소장명을 선택하세요</option>
                                        <option value="김현장">김현장</option>
                                        <option value="이소장">이소장</option>
                                        <option value="박소장">박소장</option>
                                        <option value="최소장">최소장</option>
                                        <option value="정소장">정소장</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 설문조사서 정보 섹션 -->
                        <div class="form-section">
                            <h4 class="section-title">설문조사서 정보</h4>
                            
                            <!-- 설문조사서 제목 (전체 너비) -->
                            <div class="form-row-full">
                                <div class="form-group-full">
                                    <label for="survey-title">설문조사서 제목</label>
                                    <input type="text" id="survey-title" name="survey-title" class="input-02" placeholder="설문조사서 제목을 입력하세요" required>
                                </div>
                            </div>
                            
                            <!-- 나머지 항목들 (한 줄) -->
                            <div class="form-row-inline">
                                <div class="form-group-inline">
                                    <label for="survey-type">설문구분</label>
                                    <select id="survey-type" name="survey-type" class="select-01" required>
                                        <option value="">설문구분을 선택하세요</option>
                                        <option value="customer-satisfaction">고객만족도</option>
                                        <option value="service-quality">서비스품질</option>
                                        <option value="employee-evaluation">직원평가</option>
                                        <option value="facility-evaluation">시설평가</option>
                                    </select>
                                </div>
                                <div class="form-group-inline">
                                    <label for="target-type">설문대상</label>
                                    <select id="target-type" name="target-type" class="select-01" required>
                                        <option value="">설문대상을 선택하세요</option>
                                        <option value="business-customer">사업장별 고객</option>
                                        <option value="resident">입주민</option>
                                        <option value="visitor">방문객</option>
                                        <option value="employee">직원</option>
                                    </select>
                                </div>
                                <div class="form-group-inline form-group-date">
                                    <label for="survey-date">설문 시작일자</label>
                                    <div class="datepicker-01">
                                        <input type="text" id="survey-date" name="survey-date" placeholder="설문 시작일자를 선택하세요" readonly required>
                                        <button type="button" class="btn-datepicker"></button>
                                    </div>
                                </div>
                                <div class="form-group-inline form-group-date">
                                    <label for="survey-end-date">설문 종료일자</label>
                                    <div class="datepicker-01">
                                        <input type="text" id="survey-end-date" name="survey-end-date" placeholder="설문 종료일자를 선택하세요" readonly required>
                                        <button type="button" class="btn-datepicker"></button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 연도/월 (한 줄) -->
                            <div class="form-row-inline form-row-disabled">
                                <div class="form-group-inline">
                                    <label for="year">해당연도</label>
                                    <input type="text" id="year" name="year" class="input-02 input-disabled" placeholder="해당연도" readonly disabled>
                                </div>
                                <div class="form-group-inline">
                                    <label for="month">월</label>
                                    <input type="text" id="month" name="month" class="input-02 input-disabled" placeholder="월" readonly disabled>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 설문조사서 내용 섹션 -->
                        <div class="form-section">
                            <h4 class="section-title">설문조사서 내용</h4>
                            
                            <!-- 문항 수, 설문 방법 (한 줄) -->
                            <div class="form-row-inline">
                                <div class="form-group-inline">
                                    <label for="question-count">문항 수</label>
                                    <input type="number" id="question-count" name="question-count" class="input-02" placeholder="문항 수를 입력하세요" min="1" required>
                                </div>
                                <div class="form-group-inline">
                                    <label for="survey-method">설문 방법</label>
                                    <select id="survey-method" name="survey-method" class="select-01" required>
                                        <option value="">설문 방법을 선택하세요</option>
                                        <option value="online">온라인</option>
                                        <option value="paper">종이 설문지</option>
                                        <option value="interview">면접</option>
                                        <option value="phone">전화</option>
                                        <option value="mixed">혼합</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- 설문조사서 설명 (전체 너비) -->
                            <div class="form-row-full">
                                <div class="form-group-full">
                                    <label for="survey-description">설문조사서 설명</label>
                                    <textarea id="survey-description" name="survey-description" class="textarea-01" placeholder="설문조사서의 목적과 내용을 설명하세요" rows="3" required></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 설문 문항 관리 섹션 -->
                        <div class="form-section">
                            <div class="section-header">
                                <h4 class="section-title">설문 문항 관리</h4>
                                <button type="button" id="add-question-btn" class="btn btn-blue-02">문항 추가</button>
                            </div>
                            
                            <!-- 문항 목록 -->
                            <div id="questions-container">
                                <!-- 문항들이 동적으로 추가될 영역 -->
                            </div>
                            
                            <!-- 문항 추가 템플릿 (숨김) -->
                            <div id="question-template" style="display: none;">
                                <div class="question-item">
                                    <div class="question-header">
                                        <span class="question-number">문항 1</span>
                                        <button type="button" class="btn btn-remove-question">삭제</button>
                                    </div>
                                    <div class="question-content">
                                        <div class="form-group">
                                            <label>문항 내용</label>
                                            <textarea class="textarea-01 question-text" placeholder="문항 내용을 입력하세요" rows="3" required></textarea>
                                        </div>
                                        <div class="form-row-inline">
                                            <div class="form-group-inline">
                                                <label>문항 유형</label>
                                                <select class="select-01 question-type" required>
                                                    <option value="">문항 유형을 선택하세요</option>
                                                    <option value="multiple-choice">객관식</option>
                                                    <option value="short-answer">주관식 (단답형)</option>
                                                    <option value="long-answer">주관식 (서술형)</option>
                                                </select>
                                            </div>
                                            <div class="form-group-inline">
                                                <label>필수 여부</label>
                                                <select class="select-01 question-required">
                                                    <option value="required">필수</option>
                                                    <option value="optional">선택</option>
                                                </select>
                                            </div>
                                        </div>
                                        
                                        <!-- 객관식 선택지 영역 -->
                                        <div class="multiple-choice-options" style="display: none;">
                                            <div class="form-group">
                                                <label>선택지</label>
                                                <div class="options-container">
                                                    <!-- 선택지들이 동적으로 추가될 영역 -->
                                                </div>
                                                <button type="button" class="btn btn-add-option">선택지 추가</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 선택지 템플릿 (숨김) -->
                            <div id="option-template" style="display: none;">
                                <div class="option-item">
                                    <input type="text" class="input-02 option-text" placeholder="선택지 내용을 입력하세요" required>
                                    <button type="button" class="btn btn-remove-option">삭제</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 첨부파일 섹션 -->
                        <div class="form-section">
                            <h4 class="section-title">첨부파일</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="file-upload">설문조사서 파일</label>
                                    <div class="file-upload-area">
                                        <input type="file" id="file-upload" name="file-upload" accept=".pdf,.doc,.docx,.xls,.xlsx" style="display: none;">
                                        <button type="button" class="btn btn-file-upload">파일 선택</button>
                                        <span class="file-info">선택된 파일 없음</span>
                                    </div>
                                    <p class="form-help">설문조사서 파일을 업로드하세요. PDF, DOC, DOCX, XLS, XLSX 파일만 업로드 가능합니다.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 버튼 섹션 -->
                        <div class="form-actions">
                            <div class="btn-group">
                                <button type="button" class="btn btn-close">닫기</button>
                                <button type="button" class="btn btn-cancel">취소</button>
                                <button type="submit" class="btn btn-save">저장</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
