<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정기업무보고 상세 - SAEROM</title>
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob:;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/fonts.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/slick.css">
    <link rel="stylesheet" href="/assets/css/global.css">
    <link rel="stylesheet" href="/assets/css/lucide-icons.css">
    <link rel="stylesheet" href="monthly-report-detail.css">
    
    <style>
        /* GroundFit 헤더 구조 적용 */
        #header {
            position: fixed;
            top: 0;
            left: 0;
            width: 321px;
            padding: 188px 24px 24px;
            min-height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }
        
        #header h1 {
            position: absolute;
            top: 79px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        #header h1 img {
            vertical-align: top;
            width: 180px;
            height: auto;
        }
        
        #header .quick-nav {
            display: none;
        }
        
        #gnb {
            position: relative;
            z-index: 1000;
        }
        
        .container {
            margin-left: 321px;
            position: relative;
            width: calc(100% - 321px);
            min-height: 100vh;
            border-left: 1px solid #ccc;
        }
    </style>
    
    <!-- JavaScript Files -->
    <script src="/js/jquery-1.11.3.js"></script>
    <script src="/js/slick.js"></script>
    <script src="/js/common.js"></script>
    <script src="/assets/js/lucide.js"></script>
    <script src="/assets/js/lucide-utils.js"></script>
    
    <script>
        // SAEROM Lucide 아이콘 초기화
        document.addEventListener('DOMContentLoaded', function() {
            // Lucide 아이콘 초기화
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
                console.log('Lucide Icons initialized successfully');
            } else {
                console.warn('Lucide library not found');
            }
            
            // 정기업무보고 상세 페이지 로드 시작
            console.log('정기업무보고 상세 페이지 로드 시작');
            
            // GNB 동적 로드
            loadGNB();
            
            // 다운로드 버튼
            $('.btn-download').on('click', function(e) {
                e.preventDefault();
                console.log('보고서 다운로드 중...');
                alert('보고서가 다운로드됩니다.');
            });
            
            // 인쇄 버튼
            $('.btn-print').on('click', function(e) {
                e.preventDefault();
                console.log('보고서 인쇄 중...');
                window.print();
            });
            
            // 닫기 버튼
            $('.btn-close, .btn-close-bottom').on('click', function(e) {
                e.preventDefault();
                window.history.back();
            });
        });
        
        // GNB 토글 기능 초기화
        function initGNBToggle() {
            // 1레벨 메뉴 토글
            const toggleButtons = document.querySelectorAll('.gnb-depth1 .btn-toggle');
            toggleButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const submenu = this.nextElementSibling;
                    const isActive = this.classList.contains('active');
                    
                    // 다른 활성 메뉴들 닫기
                    document.querySelectorAll('.gnb-depth1 .btn-toggle.active').forEach(activeBtn => {
                        if (activeBtn !== this) {
                            activeBtn.classList.remove('active');
                            const activeSubmenu = activeBtn.nextElementSibling;
                            if (activeSubmenu) {
                                activeSubmenu.style.display = 'none';
                            }
                        }
                    });
                    
                    // 현재 메뉴 토글
                    if (isActive) {
                        this.classList.remove('active');
                        if (submenu) {
                            submenu.style.display = 'none';
                        }
                    } else {
                        this.classList.add('active');
                        if (submenu) {
                            submenu.style.display = 'block';
                        }
                    }
                });
            });
            
            // 2레벨 메뉴 토글 (3레벨 서브메뉴용)
            const toggleButtons2 = document.querySelectorAll('.gnb-depth2 .btn-toggle');
            toggleButtons2.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const submenu = this.nextElementSibling;
                    const isActive = this.classList.contains('active');
                    
                    // 같은 2레벨 내의 다른 활성 메뉴들 닫기
                    const parentLi = this.closest('li');
                    parentLi.querySelectorAll('.gnb-depth2 .btn-toggle.active').forEach(activeBtn => {
                        if (activeBtn !== this) {
                            activeBtn.classList.remove('active');
                            const activeSubmenu = activeBtn.nextElementSibling;
                            if (activeSubmenu) {
                                activeSubmenu.style.display = 'none';
                            }
                        }
                    });
                    
                    // 현재 메뉴 토글
                    if (isActive) {
                        this.classList.remove('active');
                        if (submenu) {
                            submenu.style.display = 'none';
                        }
                    } else {
                        this.classList.add('active');
                        if (submenu) {
                            submenu.style.display = 'block';
                        }
                    }
                });
            });
        }
        
        // GNB 토글 기능 초기화
        initGNBToggle();
    </script>
</head>

<body>
    <!-- .skip-nav -->
    <div class="skip-nav">
        <a href="#gnb" class="btn">본문 바로가기</a>
        <a href="#contents" class="btn">주메뉴 바로가기</a>
    </div>
    
    <div class="wrap clearfix">
        <!-- #header start // -->
        <div id="header">
            <h1><a href="../../index.html"><img src="../../../assets/images/logo.png" alt="SAEROM 용역관리시스템"></a></h1>
            <ul class="quick-nav">
                <li><a href="#" class="btn menu"><i data-lucide="menu" class="quick-nav-icon"></i>메뉴</a></li>
                <li><a href="#" class="btn approval"><i data-lucide="check-square" class="quick-nav-icon"></i>전자결제</a></li>
                <li><a href="#" class="btn home"><i data-lucide="home" class="quick-nav-icon"></i>Main</a></li>
                <li><a href="#" class="btn workplace"><i data-lucide="building-2" class="quick-nav-icon"></i>사업장관리</a></li>
                <li><a href="#" class="btn hr"><i data-lucide="users" class="quick-nav-icon"></i>직원관리</a></li>
                <li><a href="#" class="btn system"><i data-lucide="settings" class="quick-nav-icon"></i>시스템</a></li>
            </ul>
            <div id="gnb">
                <h2 class="blind">주메뉴</h2>
                <a href="#" class="btn btn-gnb-close"><i data-lucide="x" class="icon-close"></i>닫기</a>
                <!-- GNB는 JavaScript로 동적 로드됩니다 -->
            </div>
        </div>
        <!-- // #header end -->
        
        <div class="container">
            <div class="contents-top clearfix">
                <p class="title">Management System</p>
                <div class="snb">
                    <ul class="snb-depth1 clearfix">
                        <li>
                            <a href="#" class="btn btn-toggle mypage"><span class="blind">관리자 관련메뉴 열고 닫기.</span>Admin</a>
                            <ul class="snb-depth2">
                                <li><a href="#" class="btn">정보변경 정보</a></li>
                                <li><a href="#" class="btn">로그인 관리</a></li>
                                <li><a href="#" class="btn">로그아웃</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div id="contents" class="contents-body">
                <h2 class="blind">본문</h2>
                
                <!-- Page Title Section -->
                <div class="contents-title">
                    <h3 class="title-page">정기업무보고 상세</h3>
                    <a href="index.html" class="btn btn-close modal-close" title="닫기">
                        <i data-lucide="x"></i>
                    </a>
                </div>

                <!-- Report Detail Card -->
                <div class="report-detail-card">
                    <!-- Action Buttons -->
                    <div class="action-buttons button-group">
                        <a href="#" class="btn btn-download">
                            <i data-lucide="download"></i>
                            다운로드
                        </a>
                        <a href="#" class="btn btn-print">
                            <i data-lucide="printer"></i>
                            인쇄
                        </a>
                    </div>

                    <!-- Report Header -->
                    <div class="report-header">
                        <h2 class="report-title">월간업무 보고서(일반)</h2>
                        <p class="report-date">(2025년 06월)</p>
                    </div>

                    <!-- Report Info Table -->
                    <div class="report-info-section">
                        <h4 class="section-title">보고 정보</h4>
                        <div class="info-table">
                            <div class="info-row">
                                <div class="info-item">
                                    <span class="info-label">본부명</span>
                                    <span class="info-value">ACE 1본부</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">사업장</span>
                                    <span class="info-value">경기광주역금호리첸시아</span>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="info-item">
                                    <span class="info-label">현소장명</span>
                                    <span class="info-value">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">보고일자</span>
                                    <span class="info-value">2025-06-23</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Report Details Table -->
                    <div class="report-details-section">
                        <h4 class="section-title">보고 사항</h4>
                        <div class="details-table">
                            <div class="table-header">
                                <div class="header-cell">구분</div>
                                <div class="header-cell">보고사항</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell category">입주자대표회의 관련 / 동정 주요 민원 사항</div>
                                <div class="table-cell content">금호리첸시아</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell category">주요 업무 실시 사항</div>
                                <div class="table-cell content">금호리첸시아</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell category">용역업체 운영 / 관리실태</div>
                                <div class="table-cell content">금호리첸시아</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell category">기타 사항</div>
                                <div class="table-cell content">금호리첸시아 11111</div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell category">첨부파일</div>
                                <div class="table-cell content">-</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bottom Close Button -->
                <div class="bottom-close-section">
                    <a href="index.html" class="btn btn-close-bottom btn-blueline-02">닫기</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
